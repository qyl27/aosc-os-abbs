PKGNAME=polkit
PKGDES="Application development toolkit for controlling system-wide privileges"
PKGSEC=admin
PKGDEP="expat systemd glib linux-pam duktape"
BUILDDEP="autoconf-archive docbook-xsl gobject-introspection gtk-doc intltool libxslt"
BUILDDEP__RETRO="autoconf-archive docbook-xsl intltool libxslt"
BUILDDEP__ARMV4="${BUILDDEP__RETRO}"
BUILDDEP__ARMV6HF="${BUILDDEP__RETRO}"
BUILDDEP__ARMV7HF="${BUILDDEP__RETRO}"
BUILDDEP__I486="${BUILDDEP__RETRO}"
BUILDDEP__LOONGSON2F="${BUILDDEP__RETRO}"
BUILDDEP__M68K="${BUILDDEP__RETRO}"
BUILDDEP__POWERPC="${BUILDDEP__RETRO}"
BUILDDEP__PPC64="${BUILDDEP__RETRO}"

ABTYPE=meson
MESON_AFTER=" \
    -Dsession_tracking=libsystemd-login \
    -Dlibs-only=false \
    -Dpolkitd_user=polkitd \
    -Dauthfw=pam \
    -Dos_type=redhat \
    -Dexamples=true \
    -Dtests=false \
    -Dintrospection=true \
    -Dgtk_doc=true \
    -Dman=true \
    -Djs_engine=duktape"
MESON_AFTER__RETRO=" \
    ${MESON_AFTER} \
    -Dgtk_doc=false \
    -Dintrospection=false"
MESON_AFTER__ARMV4="${MESON_AFTER__RETRO}"
MESON_AFTER__ARMV6HF="${MESON_AFTER__RETRO}"
MESON_AFTER__ARMV7HF="${MESON_AFTER__RETRO}"
MESON_AFTER__I486="${MESON_AFTER__RETRO}"
MESON_AFTER__LOONGSON2F="${MESON_AFTER__RETRO}"
MESON_AFTER__M68K="${MESON_AFTER__RETRO}"
MESON_AFTER__POWERPC="${MESON_AFTER__RETRO}"
MESON_AFTER__PPC64="${MESON_AFTER__RETRO}"

PKGEPOCH=1

# Note: Extra Provides for Spiral.
PKGPROV="policykit-1_spiral"
